<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Michael Kato | Technical Artist</title>
<style>
/* Complete CSS for the portfolio site with properly implemented art expansion */

:root {
--bg-color: #0d1117;
--bg-pattern: #161b22;
--text-color: #c9d1d9;
--accent-color: #58a6ff; /* GitHub blue */
--secondary-color: #f0883e; /* GitHub orange */
--tertiary-color: #8b949e; /* GitHub muted */
--card-bg: #21262d;
--border-color: #30363d;
--header-bg: #161b22;
--section-header-bg: rgba(22, 27, 34, 0.3); /* Subtle background for section headers */
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
background-color: var(--bg-color);
background-image: 
linear-gradient(to right, var(--bg-pattern) 1px, transparent 1px),
linear-gradient(to bottom, var(--bg-pattern) 1px, transparent 1px);
background-size: 20px 20px;
color: var(--text-color);
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
line-height: 1.5;
padding: 0;
max-width: 1200px;
margin: 0 auto;
}

a {
color: var(--accent-color);
text-decoration: none;
}

a:hover {
text-decoration: underline;
}

header {
background-color: var(--header-bg);
padding: 40px 20px;
text-align: center;
border-bottom: 1px solid var(--border-color);
}

.header-title {
font-size: 2.5rem;
color: var(--text-color);
margin-bottom: 10px;
font-weight: 600;
}

.header-subtitle {
font-size: 1.2rem;
color: var(--tertiary-color);
max-width: 600px;
margin: 0 auto;
font-weight: 400;
}

/* Updated header styles */
#dynamic-header {
  position: relative;
  padding: 60px 20px;
  text-align: center;
  overflow: hidden;
  border-bottom: 1px solid var(--border-color);
  background-color: var(--header-bg);
}

.header-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: 0.15; /* Subtle opacity to ensure text is readable */
  transition: opacity 0.5s ease;
  z-index: 0;
}

.header-content {
  position: relative;
  z-index: 1;
}

.header-title {
  font-size: 2.5rem;
  color: var(--text-color);
  margin-bottom: 10px;
  font-weight: 600;
  text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5); /* Text shadow for better readability */
}

.header-subtitle {
  font-size: 1.2rem;
  color: var(--tertiary-color);
  max-width: 600px;
  margin: 0 auto;
  font-weight: 400;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5); /* Text shadow for better readability */
}


.command {
color: var(--secondary-color);
}

.output {
margin: 5px 0 15px 0;
}

nav {
background-color: var(--card-bg);
padding: 15px 20px;
margin: 0;
box-shadow: 0 1px 3px rgba(0,0,0,0.12);
}

nav ul {
display: flex;
list-style-type: none;
justify-content: center;
flex-wrap: wrap;
gap: 20px;
}

nav li {
margin: 5px 0;
}

nav a {
padding: 8px 15px;
color: var(--text-color);
border-radius: 6px;
transition: all 0.2s;
font-weight: 500;
}

nav a:hover {
background-color: var(--border-color);
text-decoration: none;
}

section {
margin: 10px 0;
padding: 40px 20px;
}

.section-header {
margin-bottom: 30px;
text-align: center;
}

.section-header h2 {
display: inline-block;
font-size: 1.8rem;
color: var(--text-color);
padding: 10px 20px;
border-bottom: 2px solid var(--secondary-color);
font-weight: 600;
background-color: var(--section-header-bg);
border-radius: 6px;
}

.container {
max-width: 1000px;
margin: 0 auto;
}

.projects-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 20px;
}

.project-card {
border: 1px solid var(--border-color);
padding: 20px;
border-radius: 6px;
background-color: var(--card-bg);
transition: transform 0.2s, box-shadow 0.2s;
cursor: pointer;
height: 100%;
display: flex;
flex-direction: column;
}

.project-card:hover {
transform: translateY(-4px);
box-shadow: 0 8px 16px rgba(0,0,0,0.2);
border-color: var(--accent-color);
}

.project-header {
color: var(--accent-color);
margin-bottom: 15px;
font-size: 1.3rem;
font-weight: 600;
}

.project-icon {
font-size: 2.5rem;
margin-bottom: 15px;
color: var(--secondary-color);
text-align: center;
}

.project-description {
margin-bottom: 15px;
color: var(--text-color);
flex-grow: 1;
}

.project-tags {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin: 15px 0;
}

.project-tag {
background-color: rgba(240, 136, 62, 0.2); /* GitHub orange with transparency */
color: var(--secondary-color);
padding: 4px 8px;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 500;
}

.project-section {
  margin-bottom: 1.5rem;
}

.project-section-title {
  color: var(--accent-color);
  font-size: 1.2rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  border-bottom: 1px solid rgba(88, 166, 255, 0.2);
  padding-bottom: 0.5rem;
}

.project-list {
  list-style-type: none;
  padding-left: 1.5rem;
  margin: 0.75rem 0;
}

.project-list li {
  position: relative;
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.project-list li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.5rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: var(--secondary-color);
  border-radius: 50%;
}

.project-workflow {
  margin-top: 2rem;
  background-color: rgba(33, 38, 45, 0.5);
  border-radius: 6px;
  padding: 1rem;
  border: 1px solid var(--border-color);
}

.workflow-image {
  width: 100%;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  margin: 0.5rem 0;
}

.workflow-caption {
  text-align: center;
  color: var(--tertiary-color);
  font-size: 0.9rem;
  margin-top: 0.5rem;
}

/* Modal specific styling */
.modal-content .project-section {
  max-width: 100%;
}

/* Improved modal body spacing */
.modal-body {
  margin-bottom: 20px;
  line-height: 1.6;
}


/* Art gallery and expanded view styles */
.art-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
gap: 15px;
margin-top: 30px;
width: 100%;
}

.art-item {
border: 1px solid var(--border-color);
border-radius: 6px;
overflow: hidden;
background-color: var(--card-bg);
transition: transform 0.2s, box-shadow 0.2s;
cursor: pointer;
aspect-ratio: 1 / 1;
position: relative;
}

.art-item:hover {
transform: translateY(-4px);
box-shadow: 0 8px 16px rgba(0,0,0,0.2);
border-color: var(--accent-color);
}

.art-item img {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.3s;
}

.art-item:hover img {
transform: scale(1.05);
}

.art-title {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background-color: rgba(13, 17, 23, 0.8);
color: var(--text-color);
padding: 10px;
transform: translateY(100%);
transition: transform 0.3s;
}

.art-item:hover .art-title {
transform: translateY(0);
}

/* Expanded art item styles */
.art-item.expanded {
grid-column: 1 / -1; /* Span all columns */
width: 100%;
max-width: 100%;
height: auto !important; /* Override any height constraints */
min-height: auto !important;
aspect-ratio: auto !important; /* Remove aspect ratio constraint */
transition: all 0.3s ease;
position: relative !important;
display: block !important;
z-index: 2;
animation: expandArt 0.3s ease forwards;
overflow: visible !important; /* Reset any overflow constraints */
}

@keyframes expandArt {
from {
  opacity: 0.7;
  transform: scale(0.97);
}
to {
  opacity: 1;
  transform: scale(1);
}
}

/* Container for all expanded content */
.expanded-art-container {
background-color: var(--card-bg);
border: 1px solid var(--border-color);
border-radius: 6px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
overflow: hidden;
width: 100%;
display: flex;
flex-direction: column;
}

/* Header for expanded art with title and collapse button */
/* Make entire header clickable */
.expanded-art-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background-color: var(--header-bg);
  border-bottom: 1px solid var(--border-color);
  width: 100%;
  cursor: pointer; /* Add cursor pointer to show it's clickable */
  transition: background-color 0.2s ease;
}

.expanded-art-header:hover {
  background-color: var(--card-bg); /* Slightly change background on hover */
}

.expanded-art-header h3 {
color: var(--accent-color);
margin: 0;
font-size: 1.5rem;
font-weight: 600;
}

.collapse-button {
  background: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  color: var(--tertiary-color);
  cursor: pointer;
  transition: all 0.2s ease;
  pointer-events: none; /* Let clicks pass through to the header */
}

.collapse-button:hover {
background-color: rgba(255, 255, 255, 0.1);
color: var(--secondary-color);
}

.collapse-button svg {
width: 20px;
height: 20px;
transition: transform 0.2s ease;
}

.collapse-button:hover svg {
transform: translateY(-2px);
}

/* Description section */
.expanded-art-description {
padding: 20px 20px 10px 20px;
color: var(--text-color);
line-height: 1.6;
max-width: 900px;
margin: 0 auto;
width: 100%;
}

/* Gallery grid within expanded view - UPDATED FOR LARGER THUMBNAILS */
.expanded-art-gallery {
  display: grid;
  /* Larger thumbnails with fewer columns */
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 16px;
  padding: 0 20px 20px 20px;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.expanded-image-container {
  position: relative;
  overflow: hidden;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  cursor: zoom-in;
  transition: transform 0.2s, box-shadow 0.2s;
  aspect-ratio: 1 / 1;
  /* Larger max-width for thumbnails */
  max-width: 300px;
  width: 100%;
  height: auto;
  margin: 0 auto;
}

.expanded-image-container:hover {
transform: translateY(-4px);
box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.expanded-image {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.3s ease;
}

.expanded-image-container:hover .expanded-image {
transform: scale(1.05);
}

.expanded-image-caption {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background-color: rgba(13, 17, 23, 0.8);
color: var(--text-color);
padding: 8px;
font-size: 0.8rem; /* Smaller font for thumbnails */
transform: translateY(100%);
transition: transform 0.3s ease;
}

.expanded-image-container:hover .expanded-image-caption {
transform: translateY(0);
}

/* Video section */
.expanded-art-videos {
padding: 0 20px 20px 20px;
max-width: 900px;
margin: 0 auto;
width: 100%;
}

.expanded-video-container {
width: 100%;
position: relative;
padding-bottom: 56.25%; /* 16:9 aspect ratio */
height: 0;
overflow: hidden;
border-radius: 6px;
border: 1px solid var(--border-color);
margin-bottom: 16px;
}

.expanded-video {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
}

.video-container {
margin-top: 40px;
text-align: center;
}

.video-container iframe {
max-width: 100%;
border-radius: 6px;
box-shadow: 0 4px 10px rgba(0,0,0,0.3);
border: 1px solid var(--border-color);
}

.video-title {
margin-top: 15px;
font-size: 1.2rem;
color: var(--accent-color);
}

.contact-grid {
display: flex;
justify-content: center;
}

.contact-box {
border: 1px solid var(--border-color);
padding: 20px;
border-radius: 6px;
background-color: var(--card-bg);
max-width: 500px;
width: 100%;
}

.contact-box h3 {
color: var(--accent-color);
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 1px solid var(--border-color);
font-weight: 600;
text-align: center;
}

.contact-item {
margin-bottom: 15px;
display: flex;
align-items: center;
}

.contact-label {
color: var(--tertiary-color);
margin-right: 15px;
min-width: 24px;
display: flex;
align-items: center;
}

.social-links {
display: flex;
gap: 15px;
margin-top: 20px;
}

.social-links a {
width: 36px;
height: 36px;
background-color: rgba(88, 166, 255, 0.1); /* GitHub blue with transparency */
color: var(--accent-color);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
text-decoration: none;
transition: all 0.2s;
font-size: 1.2rem;
}

.social-links a:hover {
background-color: rgba(88, 166, 255, 0.2);
transform: translateY(-2px);
}

footer {
text-align: center;
padding: 30px 20px;
background-color: var(--header-bg);
color: var(--tertiary-color);
border-top: 1px solid var(--border-color);
margin-top: 40px;
}

/* Modal styles */
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
z-index: 1000;
overflow: auto;
padding: 20px;
box-sizing: border-box;
}

.modal-content {
background-color: var(--card-bg);
margin: 5% auto;
padding: 24px;
border: 1px solid var(--border-color);
border-radius: 6px;
width: 80%;
max-width: 800px;
position: relative;
animation: modalFadeIn 0.2s;
box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

@keyframes modalFadeIn {
from {opacity: 0; transform: translateY(-20px);}
to {opacity: 1; transform: translateY(0);}
}

.close-modal {
position: absolute;
top: 15px;
right: 20px;
color: var(--tertiary-color);
font-size: 24px;
font-weight: bold;
cursor: pointer;
transition: color 0.2s;
}

.close-modal:hover {
color: var(--secondary-color);
}

.modal-header {
color: var(--accent-color);
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 1px solid var(--border-color);
font-weight: 600;
}

.modal-body {
margin-bottom: 20px;
}

/* New styles for enhanced art gallery experience */
.modal-gallery {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
margin: 20px 0;
}

.modal-image-container {
position: relative;
overflow: hidden;
border-radius: 6px;
cursor: zoom-in;
border: 1px solid var(--border-color);
transition: transform 0.2s;
}

.modal-image-container:hover {
transform: translateY(-5px);
box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.modal-image {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.3s;
aspect-ratio: 1 / 1;
}

.modal-image-container:hover .modal-image {
transform: scale(1.05);
}

.modal-image-caption {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background-color: rgba(13, 17, 23, 0.8);
color: var(--text-color);
padding: 8px;
font-size: 0.9rem;
transform: translateY(100%);
transition: transform 0.3s;
}

.modal-image-container:hover .modal-image-caption {
transform: translateY(0);
}

/* Better video embedding */
.modal-video-container {
width: 100%;
margin: 20px 0;
position: relative;
padding-bottom: 56.25%; /* 16:9 aspect ratio */
height: 0;
overflow: hidden;
}

.modal-video {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
border-radius: 6px;
border: 1px solid var(--border-color);
}

/* Lightbox styles */
.lightbox {
display: none;
position: fixed;
z-index: 2000;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.9);
padding: 20px;
box-sizing: border-box;
}

.lightbox-content {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
height: 100%;
max-width: 90%;
margin: 0 auto;
position: relative;
}

.lightbox-image {
max-height: 85vh;
max-width: 100%;
object-fit: contain;
border: 1px solid var(--border-color);
box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

.lightbox-close {
position: absolute;
top: -40px;
right: 0;
color: #fff;
font-size: 28px;
font-weight: bold;
cursor: pointer;
z-index: 2010;
}

.lightbox-caption {
color: #fff;
margin-top: 15px;
text-align: center;
max-width: 80%;
font-size: 1rem;
}

.lightbox-nav {
display: flex;
align-items: center;
margin-top: 20px;
}

.lightbox-prev, .lightbox-next {
background: rgba(0,0,0,0.5);
border: 1px solid var(--border-color);
color: #fff;
padding: 8px 16px;
margin: 0 20px;
cursor: pointer;
font-size: 18px;
border-radius: 4px;
}

.lightbox-counter {
color: #fff;
font-size: 0.9rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  nav ul {
    flex-direction: column;
    align-items: center;
  }

  nav li {
    width: 100%;
    text-align: center;
  }

  #dynamic-header {
    padding: 40px 20px;
  }
  
  .header-title {
    font-size: 2rem;
  }

  .projects-grid {
    grid-template-columns: 1fr;
  }

  .art-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  }

  .modal-content {
    width: 95%;
    margin: 10% auto;
    padding: 15px;
  }

  .modal-gallery {
    grid-template-columns: 1fr;
  }
  
  .project-section-title {
    font-size: 1.1rem;
  }
  
  .project-list li {
    padding-left: 1.25rem;
  }

  .lightbox-content {
    max-width: 100%;
  }
  
  .lightbox-image {
    max-height: 70vh;
  }
  
  .modal-image-caption {
    font-size: 0.8rem;
    padding: 5px;
  }
  
  /* Responsive adjustments for expanded art view */
  .expanded-art-gallery {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
  }
  
  .expanded-image-container {
    max-width: 220px;
  }
  
  .expanded-art-header h3 {
    font-size: 1.3rem;
  }
  
  .expanded-art-description {
    padding: 16px 16px 10px 16px;
  }
  
  .expanded-art-videos {
    padding: 0 16px 16px 16px;
  }
}

/* For smaller screens, reduce number of columns */
@media (max-width: 480px) {
  .expanded-art-gallery {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
  }
  
  .expanded-image-container {
    max-width: 160px;
  }
}


<!-- CSS for GitHub Link Section -->
<style>
.github-link-container {
  margin: 30px auto 0;
  text-align: center;
  max-width: 600px;
}

.github-link {
  display: inline-block;
  width: 100%;
  text-decoration: none;
  color: var(--text-color);
  transition: transform 0.2s;
}

.github-link:hover {
  transform: translateY(-3px);
  text-decoration: none;
}

.github-link-content {
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.github-link:hover .github-link-content {
  border-color: var(--accent-color);
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

.github-icon {
  color: var(--accent-color);
  flex-shrink: 0;
  width: 32px;
  height: 32px;
}

.github-link-text {
  flex: 1;
  text-align: left;
}

.github-link-title {
  display: block;
  font-size: 18px;
  font-weight: 600;
  color: var(--accent-color);
  margin-bottom: 4px;
}

.github-link-description {
  font-size: 14px;
  color: var(--tertiary-color);
}

.github-arrow {
  color: var(--accent-color);
  flex-shrink: 0;
  transition: transform 0.2s;
}

.github-link:hover .github-arrow {
  transform: translateX(4px);
}

@media (max-width: 768px) {
  .github-link-container {
    padding: 0 16px;
  }
}

</style>
</head>
<body>
<header id="dynamic-header">
  <div class="header-background"></div>
  <div class="header-content">
    <h1 class="header-title">Michael Kato</h1>
    <p class="header-subtitle">Technically an artist!</p>
  </div>
</header>

<nav>
<ul>
<li><a href="#tech">Tech</a></li>
<li><a href="#art">Art</a></li>
<li><a href="#contact">Contact</a></li>
</ul>
</nav>

<section id="about">
<div class="container">
<div class="section-header">
<h2>About Me</h2>
</div>

<p style="margin-bottom: 20px;">I'm a Technical Artist with a decade of industry experience across gaming, AR/VR, and ML tech stacks. Throughout my career at Meta, Apple, and Sledgehammer Games, I've focused on creating efficient pipelines to help artist workflows and fill the gaps in engineering where small nudges can have outsized impacts.</p>

<p style="margin-bottom: 20px;">In a typical work day, I develop robust pipelines, optimize performance, and foster an environment of learning and collaboration. I'm good at translating technical lingo between disciplines, and helping projects achieve long and short term milestones.</p>

<p style="margin-bottom: 20px;">I'm passionate about collaborative problem-solving and work closely with team leads to identify and address technical challenges before they impact production. My experience and expertise allows me to provide valuable technical leadership which fuels my primary goal of helping others succeed.</p>

</div>
</section>

<section id="tech">
<div class="container">
<div class="section-header">
<h2>Tech</h2>
</div>

<div class="projects-grid">
<!-- Project 1: Performance Automation Framework -->
<div class="project-card" id="project-perf-framework" data-tags="Python,C#,Performance,Unity">
    <h3 class="project-header">Performance Automation Framework</h3>
    <div class="project-icon">📊</div>
    <p class="project-description">Collaborated with lead engineers to develop an instrumentation and automation framework for tracking performance in Horizon Worlds.</p>
    <div class="project-tags">
        <span class="project-tag">Python</span>
        <span class="project-tag">Performance</span>
        <span class="project-tag">VR</span>
    </div>
</div>

<!-- Project 2: Performance Visualization Dashboards -->
<div class="project-card" id="project-perf-dashboards" data-tags="SQL,Data,Visualization">
    <h3 class="project-header">Performance Visualization Dashboards</h3>
    <div class="project-icon">📈</div>
    <p class="project-description">Created configurable performance dashboards displaying Horizon Worlds live production, automation, and internal testing data, which helped teams tackle regressions more effectively.</p>
    <div class="project-tags">
        <span class="project-tag">Data Visualization</span>
        <span class="project-tag">Python</span>
        <span class="project-tag">Performance</span>
    </div>
</div>

<!-- Project 3: Procedural Scene Generation -->
<div class="project-card" id="project-proc-scene" data-tags="Python,Maya,Pipeline,Workflow">
    <h3 class="project-header">Procedural Scene Generation</h3>
    <div class="project-icon">🏙️</div>
    <p class="project-description">Developed procedural scene generation systems for Apple Vision Pro training data. Created semi-randomized variations of prebuilt scenes to generate hundreds of unique training sets.</p>
    <div class="project-tags">
        <span class="project-tag">Python</span>
        <span class="project-tag">Maya</span>
        <span class="project-tag">Procedural</span>
    </div>
</div>

<!-- Project 4: Asset Validation QA Tools -->
<div class="project-card" id="project-asset-qa" data-tags="Python,Pipeline,Automation">
<h3 class="project-header">Asset Validation QA Tools</h3>
<div class="project-icon">🔍</div>
<p class="project-description">Collaborated with other tech artists to create comprehensive QA tooling for thousands of 3D assets that accelerated integration speed by validating models, textures, and metadata.</p>
<div class="project-tags">
    <span class="project-tag">Python</span>
    <span class="project-tag">Pipeline</span>
    <span class="project-tag">Quality Assurance</span>
</div>
</div>

<!-- Project 5: LOD Generation Pipeline -->
<div class="project-card" id="project-lod-pipeline" data-tags="C++,C#,Pipeline,Optimization">
<h3 class="project-header">LOD Generation Pipeline</h3>
<div class="project-icon">💎</div>
<p class="project-description">Integrated a proprietary LOD generation algorithm into Sledgehammer Games' asset pipeline for Call of Duty: WWII, replacing the need for (almost) any manually authored LODs.</p>
<div class="project-tags">
    <span class="project-tag">C++</span>
    <span class="project-tag">C#</span>
    <span class="project-tag">Optimization</span>
</div>
</div>

<!-- Project 6: Edge Cleanup Tool -->
<div class="project-card" id="project-edge-cleanup" data-tags="Python,Maya,Optimization">
<h3 class="project-header">Edge Cleanup Tool</h3>
<div class="project-icon">✂️</div>
<p class="project-description">Created a Maya tool that detects non-optimal edges/vertices in regards to performance. The tool focuses on edges that can be removed or softened without affecting the look of the model.</p>
<div class="project-tags">
    <span class="project-tag">Python</span>
    <span class="project-tag">Maya</span>
    <span class="project-tag">Optimization</span>
</div>
</div>
</div>
</div>

<section>
<!-- GitHub Link Section HTML -->
<div class="github-link-container">
  <a href="https://github.com/michael-kato" target="_blank" class="github-link">
    <div class="github-link-content">
      <svg class="github-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      <div class="github-link-text">
        <span class="github-link-title">More Projects</span>
        <span class="github-link-description">Check out additional technical projects on my GitHub</span>
      </div>
      <svg class="github-arrow" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <polyline points="12 5 19 12 12 19"></polyline>
      </svg>
    </div>
  </a>
</div>

</section>

<section id="art">
<div class="container">
<div class="section-header">
<h2>Art</h2>
</div>

<div class="art-grid">
<!-- Art Item 1 -->
<div class="art-item" id="art-senior-project">
    <img src="http://i.imgur.com/UGUc4yz.jpg" alt="Senior Project Scene">
    <div class="art-title">Senior Project</div>
</div>

<!-- Art Item 2 -->
<div class="art-item" id="art-mod-props">
    <img src="http://i.imgur.com/DYKhtLU.jpg" alt="No More Room in Hell">
    <div class="art-title">No More Room in Hell</div>
</div>

<!-- Art Item 3 -->
<div class="art-item" id="art-school-work">
    <img src="http://i.imgur.com/DClkapV.jpg" alt="School Work">
    <div class="art-title">School Projects</div>
</div>

<!-- Art Item 4 -->
<div class="art-item" id="art-personal">
    <img src="https://i.imgur.com/AKTrC.png" alt="Personal Work">
    <div class="art-title">Personal Work</div>
</div>

<!-- Art Item 5 -->
<div class="art-item" id="art-speed-challenge">
    <img src="https://i.imgur.com/tiUt0.png" alt="Speed Modelling">
    <div class="art-title">Timed Modelling Challenges</div>
</div>

<!-- Art Item 6 ??? -->
</div>

<div class="video-container">
    <h3 class="video-title">Animations</h3>
    <iframe width="720" height="405" src="https://www.youtube.com/embed/DM5dcPbCSns" title="Animations" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</div>
</section>

<section id="contact">
<div class="container">
<div class="section-header">
<h2>Contact Me</h2>
</div>

<div class="contact-grid">
<div class="contact-box">
<h3>Get In Touch</h3>

<div class="contact-item">
    <div class="contact-label">📧 Email:</div>
    <div><a href="mailto:michaelakato@gmail.com">michaelakato@gmail.com</a></div>
</div>

<div class="contact-item">
    <div class="contact-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#0077B5"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg> LinkedIn:</div>
    <div><a href="https://linkedin.com/in/michael-kato" target="_blank">linkedin.com/in/michael-kato</a></div>
</div>

<div class="contact-item">
    <div class="contact-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#333"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg> GitHub:</div>
    <div><a href="https://github.com/michael-kato" target="_blank">github.com/michael-kato</a></div>
</div>

</div>
</div>
</section>

<footer>
<p>&copy; 2025 Michael Kato. All rights reserved.</p>
</footer>

<!-- Modal container for project details -->
<div id="project-modal" class="modal">
  <!-- Modal content will be dynamically inserted here -->
</div>

<!-- Modal container for art details -->
<div id="art-modal" class="modal">
  <!-- Art modal content will be dynamically inserted here -->
</div>

<!-- Lightbox container for fullscreen images -->
<div id="lightbox-container" class="lightbox">
  <div class="lightbox-content">
    <span class="lightbox-close">&times;</span>
    <img id="lightbox-image" class="lightbox-image">
    <div class="lightbox-caption"></div>
    <div class="lightbox-nav">
      <button class="lightbox-prev">←</button>
      <span class="lightbox-counter"></span>
      <button class="lightbox-next">→</button>
    </div>
  </div>
</div>


<script>

// Project data with detailed information
const projectData = {
  "project-perf-framework": {
    title: "Performance Automation",
    description: `
<div class="project-section">
  <p>I collaborated with lead engineers to develop a comprehensive performance monitoring solution for Horizon Worlds' rapid weekly release schedule. What began as my solo effort evolved into a dedicated performance team initiative.</p>
  
  <p>The framework enabled us to:</p>
  <ul class="project-list">
    <li>Track dozens of high and low-level code subsystems like physics, script, and rendering</li>
    <li>Run automated benchmarks on a scheduled cadence and to test new code submissions</li>
    <li>Detect issues within hours of code changes and provide profiler artifacts as a downloadable file</li>
    <li>Proactively address performance problems before weekly releases went live</li>
  </ul>
</div>
    `,
    images: null,
    video: null
  },
  
"project-perf-dashboards": {
  title: "Performance Visualization Dashboards",
  description: `
<div class="project-section">
  <p>Horizon Worlds generated massive performance data from multiple sources—instrumentation, automation, playtests, and production. To make this information accessible to all team members, I developed interactive dashboards that transformed our performance workflow.</p>
  
  <p>These visualization tools:</p>
  <ul class="project-list">
    <li>Enabled users to drill down in many performance dimensions including world, player count, device type, time of day, etc.</li>
    <li>Automatically detected regressions and emailed alerts to relevant stakeholders</li>
    <li>Enabled data-driven prioritization of optimizations and helped teams demonstrate impact of performance work</li>
    <li>Helped non-technical stakeholders understand and share performance trends</li>
  </ul>
</div>
  `,
  images: [
    "resources/hitch_dashboard.PNG",
    "resources/fps_dashboard.PNG"
  ],
  video: null
},

"project-asset-qa": {
  title: "Asset Validation QA Tools",
  description: `
<div class="project-section">
  <p>At Apple, we processed thousands of 3D models from internal teams and external vendors. Quality issues frequently caused pipeline failures, wasting resources during training data generation. I developed validation tools that transformed our asset pipeline.</p>
  
  <p>These QA tools:</p>
  <ul class="project-list">
    <li>Checked for a host of common asset importation errors such as abnormal size, missing textures, improper material settings, etc.</li>
    <li>Generated thumbnail images automatically for use the asset browser</li>
    <li>Standardized quality and saved artists time</li>
  </ul>
</div>
  `,
  images: [
    "/api/placeholder/640/360",
    "/api/placeholder/640/360"
  ],
  video: null
},

"project-proc-scene": {
  title: "Procedural Scene Generation",
  description: `
<div class="project-section">
  <p>Apple Vision Pro required massive amounts of diverse visual scenes to train it's visual recognition capability. I architected a procedural generation system that created semi-randomized sets of interior layouts to help generate new data overnight without the need for additional artists.</p>
  
  <p>The system:</p>
  <ul class="project-list">
    <li>Proceedurally modified the floorplan of existing interior scenes and dynamically extruded new walls, then deleted assets clipping through the space, and saved incremental files for offline rendering</li>
  </ul>
</div>
  `,
  images: [
    "/api/placeholder/640/360",
    "/api/placeholder/640/360"
  ],
  video: null
},

"project-lod-pipeline": {
  title: "LOD Generation Pipeline",
  description: `
<div class="project-section">
  <p>For Call of Duty: WWII, creating multiple LODs for thousands of assets consumed significant artist resources with inconsistent results. I integrated and customized a proprietary LOD generation system that saved hundreds, possibly thousands of hours of artist time.</p>
  
  <p>This automated system:</p>
  <ul class="project-list">
    <li>Reduced LOD creation time from hours to minutes per asset, so much so that I was able to effectively add LODs to nearly the entire game</li>
    <li>Enabled more consistent and aggressive LODs compared to what artists typically author manually</li>
    <li>Maintained consistent visual quality across LOD transitions, often better than manually authored</li>
    <li>Helped achieve 60fps across all game modes and console platforms</li>
  </ul>
</div>
  `,
  images: [
    "/api/placeholder/640/360",
    "/api/placeholder/640/360"
  ],
  video: null
},

"project-edge-cleanup": {
  title: "Edge Cleanup Tool",
  description: `
<div class="project-section">
  <p>During modeling, artists often create additional edges for construction that don't contribute to the final appearance but increase polygon counts, and in our engine there was an issue where tangents would be explicitly imported in a broken state due to data moving between programs, which caused vertex counts to massively inflate. I developed a Maya Python tool that analyzes mesh topology to identify redundant edges.</p>
  
  <p>This optimization tool:</p>
  <ul class="project-list">
    <li>Automatically smoothed normals which resulted in lower verted counts in engine, while our engineers figured out a more permanent solution</li>
    <li>Uses adjustable thresholds to determine which edges to remove</li>
    <li>Maintains UV mapping and material boundaries during optimization</li>
    <li>Became a standard part of our asset export process</li>
  </ul>
</div>
  `,
  images: [
    "https://lh5.googleusercontent.com/1Q15n_Eyxk7RXPCthwuFvqyC_ft8RIm3ck0GY4xiK1JibG90slSW-vA8LJOwcp75kZ17NjMkCX9MFC6Pqgb1VbnJxP7bsbj6djgqvwdn9H3jHrYDnQPD2KUrP55MYmSOeMB37CHH",
    "https://lh3.googleusercontent.com/pKYtVNI01Qr9OcI4gQvu0w_j_8lqGlx6iVZIW3JHJdVTIDT9OtAZbM8iaFV4sun43ve0_4CAaZ-9muuxgQkyyeSzGkhRVI78GPVcLW08G-khNAhlZrzA9qOlvcTwqiJHIj591a14"
  ],
  video: null
}
};


// Art data with detailed information
const artData = {
  "art-senior-project": {
    title: "Senior Project Game",
    description: `
      <p>Assets created for my senior project "Escape from Nuckinfutts' Factory." I created this as a solo project, so I modelled, textured, rigged, animated, scripted, did the VFX and lighting for everything in this project. It was quite the undertaking and parts of it remained unfinished, but I'm still proud of what I was able to achieve alone.</p>
    `,
    images: [
      {
        src: "http://i.imgur.com/UGUc4yz.jpg",
        caption: "Factory room overview, hero shot."
      },
      {
        src: "https://i.imgur.com/3lby5.jpg",
        caption: "Closeup of the crane, which was rigged and animated, part of the final boss fight"
      },
      {
        src: "http://i.imgur.com/6nSUBCj.jpg",
        caption: "Level 01, this a recycling facility where the player, a robot, is discarded into."
      },
      {
        src: "http://i.imgur.com/jMMIZtA.png",
        caption: "Nuckinfutts at his workbench, assembling who knows what."
      },
      {
        src: "https://i.imgur.com/UlNQaO3.jpg",
        caption: "Boss fight room, showing the fire traps in the ground"
      },
      {
        src: "https://i.imgur.com/lOccZy0.jpg",
        caption: "Boss fight room, showing the crusher traps in the ceiling"
      },
      {
        src: "https://i.imgur.com/PmVOx.jpg",
        caption: "Corridors"
      },
      {
        src: "https://i.imgur.com/hGK34.jpg",
        caption: "Corridors to the boss fight room"
      },
      {
        src: "https://i.imgur.com/woft3Rd.png",
        caption: "Nuckinfutts rigged"
      }
    ],
    video: "https://www.youtube.com/watch?v=UBwfiO89y6c"
  },
  "art-mod-props": {
    title: "Half-Life 2 Mod Props",
    description: `
      <p>A collection of props created for the Half-Life 2 mod "No More Room in Hell," modeled in Softimage XSI. Was done in the Source engine and was my first time collaborating within a team.</p>
    `,
    images: [
      {
        src: "http://i.imgur.com/DYKhtLU.jpg",
        caption: "Collage of some of the props I made"
      },
      {
        src: "https://i.imgur.com/UOpEx.jpg",
        caption: "AO renders were my go to for showing off models back then"
      },
      {
        src: "https://i.imgur.com/vzDNH.png",
        caption: "Lexus IS 300"
      },
      {
        src: "https://i.imgur.com/fkiQQ.png",
        caption: "Crashed version"
      },
      {
        src: "https://i.imgur.com/9p3N6.jpg",
        caption: "Color variant in-engine"
      },
      {
        src: "https://i.imgur.com/bTzPY.png",
        caption: "Hydrant!"
      },
      {
        src: "https://i.imgur.com/4QiuN.jpg",
        caption: "Popcorn!"
      },
      {
        src: "https://i.imgur.com/f2njW.png",
        caption: "Smaller variant of the shelves"
      },
      {
        src: "https://i.imgur.com/bs6Bc.png",
        caption: "Let there be floodlight"
      },
      {
        src: "https://i.imgur.com/pcnr7.png",
        caption: "Basic hand truck, minimal texture detail"
      },
      {
        src: "https://i.imgur.com/1gRU6.png",
        caption: "Ceiling fan"
      }
    ],
    video: null
  },
  "art-school-work": {
    title: "Misc School Work",
    description: `
      <p>Various projects from my time at The Art Institute of Sunnyvale (closed). I wish I still had the source files for these, most of my best work from this time was lost due to hard drive failures and network wipes. Massive bummer.</p>
    `,
    images: [
      {
        src: "http://i.imgur.com/DClkapV.jpg",
        caption: "Kitchen render in Maya with mental ray"
      },
      {
        src: "http://i.imgur.com/nhb5Um2.jpg",
        caption: "Kitchen render alt"
      },
      {
        src: "https://i.imgur.com/R6wXnNE.png",
        caption: "Zbrush tactical glove"
      },
      {
        src: "https://i.imgur.com/n6MVQ2g.jpg",
        caption: "AK-74"
      },
      {
        src: "https://i.imgur.com/0mRUG.png",
        caption: "Soviet 2s7 Pion"
      },
      {
        src: "https://i.imgur.com/lWwi2.png",
        caption: "Soviet 2s7 Pion"
      },
      {
        src: "https://i.imgur.com/ZwzAT.png",
        caption: "WIP Notre Dame cathedral"
      },
      {
        src: "https://i.imgur.com/DaRyA.jpg",
        caption: "Laser cube from Portal 2"
      },
      {
        src: "https://i.imgur.com/bMGks.jpg",
        caption: "Test chamber from Portal 2. The finished version was lost."
      },
      {
        src: "https://i.imgur.com/0OXOc92.png",
        caption: "Lizard thing."
      },
      {
        src: "https://i.imgur.com/JmRB0.jpg",
        caption: "Character from Star Wars: Clone Wars. I modelled, texture, rigged, and animated this character but the files are lost :(("
      }
      
    ],
    video: "https://www.youtube.com/watch?v=2k-cztTwVzU"
  },
  "art-personal": {
    title: "Misc Personal Work",
    description: `
      <p>Creative explorations and fun projects I've worked on in my spare time.</p>
    `,
    images: [
      {
        src: "https://i.imgur.com/AKTrC.png",
        caption: "Recreation of a Caldari Caracal from EVE: Online. Probably my first high-poly model. I went way too far with the details."
      },
      {
        src: "https://i.imgur.com/NINiT.jpg",
        caption: "Inspired by Silent Hill 3"
      },
      {
        src: "https://i.imgur.com/zcL8d.png",
        caption: "Inspired by Silent Hill 3"
      },
      {
        src: "https://i.imgur.com/xSTlO.jpg",
        caption: "Half-Life 2 mapping competition entry"
      },
      {
        src: "https://i.imgur.com/gS3Ak.jpg",
        caption: "Half-Life 2 mapping competition entry (winner)"
      },
      {
        src: "https://i.imgur.com/7RAEA.png",
        caption: "Random vista building for someone's mod"
      }
    ],
    video: [
      "https://www.youtube.com/watch?v=Ks5aLLREdqA",
      "https://www.youtube.com/watch?v=9AEscHkULjU"
    ]
  },
  "art-speed-challenge": {
    title: "2-Hour Speed Challenges",
    description: `
      <p>Models created during timed challenges I used to run on a HL2 forum, typically completed within a strict 2-hour timeframe.</p>
    `,
    images: [
      {
        src: "https://i.imgur.com/tiUt0.png",
        caption: "Conker from the N64 game. This took me about 5 hours start to finish. The challenge prompt was 'Plush'"
      },
      {
        src: "https://i.imgur.com/fkg1b.png",
        caption: "Texture"
      },
      {
        src: "https://i.imgur.com/OI2t7.png",
        caption: "Challenge prompt was 'Land Vehicles' so I figured I'd zig while everyone else zagged."
      },
      {
        src: "https://i.imgur.com/xkucH.jpg",
        caption: "Garage"
      },
      {
        src: "https://i.imgur.com/dHQ1c.png",
        caption: "Prompt was 'Intelligence'"
      },
      {
        src: "https://i.imgur.com/YJjhJ.png",
        caption: "Just some trash"
      },
      {
        src: "https://i.imgur.com/NJVA8.png",
        caption: "Giant person headphones"
      },
      {
        src: "https://i.imgur.com/UVkBb.png",
        caption: "2 hour modelling challenge"
      },
      {
        src: "https://i.imgur.com/bP6i3.jpg",
        caption: "First time using 3DS Max"
      },
      {
        src: "https://i.imgur.com/QcLAR.png",
        caption: ""
      }
    ],
    video: null
  }
};


// Portfolio site JavaScript with fixed expansion for art projects
document.addEventListener('DOMContentLoaded', () => {
  // Initialize all event handlers
  setupProjectCards();
  setupArtItems();
  setupModalHandlers();
});

/**
 * Convert YouTube watch URLs to embed URLs
 */
function getYouTubeEmbedUrl(url) {
  if (!url) return null;
  
  // Handle array of videos
  if (Array.isArray(url)) {
    return url.map(u => getYouTubeEmbedUrl(u)).filter(Boolean);
  }
  
  // Handle various YouTube URL formats
  const regexPatterns = [
    /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,
    /^([^"&?\/\s]{11})$/ // Direct video ID
  ];
  
  for (const pattern of regexPatterns) {
    const match = url.match(pattern);
    if (match && match[1]) {
      return `https://www.youtube.com/embed/${match[1]}`;
    }
  }
  
  console.warn('Could not parse YouTube URL:', url);
  return url; // Return original if can't be parsed
}

/**
 * Normalize image data to consistent format
 */
function normalizeImageData(images) {
  if (!images) return [];
  return images.map(img => {
    if (typeof img === 'string') return { src: img, caption: '' };
    return img;
  });
}

/**
 * Set up event handlers for project cards
 */
function setupProjectCards() {
  const projectModal = document.getElementById('project-modal');
  
  document.querySelectorAll('.project-card').forEach(card => {
    card.addEventListener('click', () => {
      const projectId = card.id;
      const project = projectData[projectId] || {
        title: card.querySelector('.project-header').textContent,
        description: `<p>${card.querySelector('.project-description').textContent}</p>
                     <h4>Detailed information coming soon</h4>
                     <p>This project is currently being documented with full implementation details and impact metrics.</p>`,
        images: ["/api/placeholder/640/360"],
        video: null
      };
      
      openProjectModal(project);
    });
  });
}

/**
 * Open project modal with specified project data
 */
function openProjectModal(project) {
  const projectModal = document.getElementById('project-modal');
  
  // Build modal content
  let modalContent = `
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2 class="modal-header">${project.title}</h2>
      <div class="modal-body">
        ${project.description}
      </div>`;
  
  // Add images if available
  if (project.images && project.images.length > 0) {
    modalContent += `<div class="modal-gallery">`;
    project.images.forEach((image, index) => {
      modalContent += `
        <div class="modal-image-container" data-index="${index}">
          <img src="${image}" alt="${project.title}" class="modal-image" onerror="this.src='/api/placeholder/640/360'; this.onerror=null;">
        </div>`;
    });
    modalContent += `</div>`;
  }
  
  // Add video if available
  if (project.video) {
    const embedUrl = getYouTubeEmbedUrl(project.video);
    if (Array.isArray(embedUrl)) {
      // Multiple videos
      embedUrl.forEach(url => {
        modalContent += `
          <div class="modal-video-container">
            <iframe class="modal-video" src="${url}" frameborder="0" allowfullscreen></iframe>
          </div>`;
      });
    } else if (embedUrl) {
      // Single video
      modalContent += `
        <div class="modal-video-container">
          <iframe class="modal-video" src="${embedUrl}" frameborder="0" allowfullscreen></iframe>
        </div>`;
    }
  }
  
  modalContent += `</div>`;
  
  // Update and show modal
  projectModal.innerHTML = modalContent;
  projectModal.style.display = 'block';
  
  // Add image click handlers for lightbox
  projectModal.querySelectorAll('.modal-image-container').forEach(container => {
    container.addEventListener('click', () => {
      const images = project.images.map(src => ({ src, caption: '' }));
      const imageIndex = parseInt(container.dataset.index);
      openLightbox(images, imageIndex);
    });
  });
  
  // Add close handler
  const closeBtn = projectModal.querySelector('.close-modal');
  if (closeBtn) {
    closeBtn.addEventListener('click', () => {
      projectModal.style.display = 'none';
    });
  }
}

/**
 * Set up event handlers for art items
 */
/**
 * Update the click handler for art items to make entire header clickable
 */
 function setupArtItems() {
  // First make sure any existing expanded items are collapsed
  collapseAllArtItems();
  
  document.querySelectorAll('.art-item').forEach(item => {
    // Store original dimensions for restoration
    if (!item.dataset.originalWidth) {
      item.dataset.originalWidth = item.offsetWidth + 'px';
      item.dataset.originalHeight = item.offsetHeight + 'px';
    }
    
    // Store original content for restoration
    if (!item.dataset.originalContent) {
      item.dataset.originalContent = item.innerHTML;
    }
    
    // Add click handler
    item.addEventListener('click', function(e) {
      // Check if we're clicking on an already expanded item
      if (this.classList.contains('expanded')) {
        // If clicking on the header, collapse the item
        if (e.target.closest('.expanded-art-header')) {
          collapseArtItem(this);
          return;
        }
        
        // If clicking on an image in the expanded view, handle lightbox
        if (e.target.closest('.expanded-image-container')) {
          const container = e.target.closest('.expanded-image-container');
          const artId = this.id;
          const art = artData[artId];
          const processedImages = normalizeImageData(art.images);
          const imageIndex = parseInt(container.dataset.index);
          openLightbox(processedImages, imageIndex);
        }
        return;
      }
      
      // First, collapse any already expanded items
      collapseAllArtItems();
      
      // Now expand this item
      expandArtItem(this);
    });
  });
}


/**
 * Expand an art item with detailed content
 */
function expandArtItem(item) {
  const artId = item.id;
  const art = artData[artId] || {
    title: item.querySelector('.art-title').textContent,
    description: `<p>Detailed information about this artwork is coming soon.</p>`,
    images: [{
      src: item.querySelector('img').src,
      caption: item.querySelector('.art-title').textContent
    }],
    video: null
  };
  
  const processedImages = normalizeImageData(art.images);
  
  // Build expanded content
  let expandedContent = `
    <div class="expanded-art-container">
      <div class="expanded-art-header">
        <h3>${art.title}</h3>
        <button class="collapse-button" aria-label="Collapse">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18 15 12 9 6 15"></polyline>
          </svg>
        </button>
      </div>
      <div class="expanded-art-description">
        ${art.description}
      </div>
      <div class="expanded-art-gallery">`;
  
  // Add images
  processedImages.forEach((image, index) => {
    expandedContent += `
      <div class="expanded-image-container" data-index="${index}">
        <img src="${image.src}" alt="${art.title}" class="expanded-image" onerror="this.src='/api/placeholder/640/360'; this.onerror=null;">
        ${image.caption ? `<div class="expanded-image-caption">${image.caption}</div>` : ''}
      </div>`;
  });
  
  expandedContent += `</div>`;
  
  // Add video if available
  if (art.video) {
    const embedUrl = getYouTubeEmbedUrl(art.video);
    expandedContent += `<div class="expanded-art-videos">`;
    
    if (Array.isArray(embedUrl)) {
      // Multiple videos
      embedUrl.forEach(url => {
        expandedContent += `
          <div class="expanded-video-container">
            <iframe class="expanded-video" src="${url}" frameborder="0" allowfullscreen></iframe>
          </div>`;
      });
    } else if (embedUrl) {
      // Single video
      expandedContent += `
        <div class="expanded-video-container">
          <iframe class="expanded-video" src="${embedUrl}" frameborder="0" allowfullscreen></iframe>
        </div>`;
    }
    
    expandedContent += `</div>`;
  }
  
  expandedContent += `</div>`;
  
  // Update content and add expanded class
  item.innerHTML = expandedContent;
  
  // Need to set some explicit styles to ensure expansion works correctly
  item.style.position = 'relative';
  item.style.gridColumn = '1 / -1';
  item.style.width = '100%';
  item.style.height = 'auto';
  item.style.aspectRatio = 'auto';
  
  // Add expanded class last to trigger animations
  item.classList.add('expanded');
  
  // Scroll to make sure expanded item is visible
  setTimeout(() => {
    item.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

/**
 * Collapse all expanded art items
 */
 function collapseAllArtItems() {
  document.querySelectorAll('.art-item.expanded').forEach(item => {
    collapseArtItem(item);
  });
}

/**
 * Collapse an expanded art item back to its original state
 */
function collapseArtItem(item) {
  // Restore original content
  if (item.dataset.originalContent) {
    item.innerHTML = item.dataset.originalContent;
  }
  
  // Remove inline styles
  item.style.position = '';
  item.style.gridColumn = '';
  item.style.width = '';
  item.style.height = '';
  item.style.aspectRatio = '';
  
  // Remove expanded class
  item.classList.remove('expanded');
}

/**
 * Set up global modal and lightbox handlers
 */
function setupModalHandlers() {
  const projectModal = document.getElementById('project-modal');
  const lightbox = document.getElementById('lightbox-container');
  
  // Close modals when clicking outside content
  window.addEventListener('click', (e) => {
    if (e.target === projectModal) projectModal.style.display = 'none';
    if (e.target === lightbox) lightbox.style.display = 'none';
  });
  
  // Global keyboard navigation
  window.addEventListener('keydown', (e) => {
    // Only handle keys if a modal is visible
    if (projectModal.style.display === 'block' || lightbox.style.display === 'block') {
      if (e.key === 'Escape') {
        // Close all modals
        projectModal.style.display = 'none';
        lightbox.style.display = 'none';
      } else if (e.key === 'ArrowLeft' && lightbox.style.display === 'block') {
        // Previous image in lightbox
        const prevBtn = lightbox.querySelector('.lightbox-prev');
        if (prevBtn && !prevBtn.disabled) prevBtn.click();
      } else if (e.key === 'ArrowRight' && lightbox.style.display === 'block') {
        // Next image in lightbox
        const nextBtn = lightbox.querySelector('.lightbox-next');
        if (nextBtn && !nextBtn.disabled) nextBtn.click();
      }
    }
  });
}

/**
 * Open lightbox to display images at specified index
 */
function openLightbox(images, startIndex = 0) {
  const lightbox = document.getElementById('lightbox-container');
  const lightboxImage = document.getElementById('lightbox-image');
  const lightboxCaption = lightbox.querySelector('.lightbox-caption');
  const lightboxCounter = lightbox.querySelector('.lightbox-counter');
  const prevButton = lightbox.querySelector('.lightbox-prev');
  const nextButton = lightbox.querySelector('.lightbox-next');
  const closeButton = lightbox.querySelector('.lightbox-close');
  
  let currentIndex = startIndex || 0;
  
  // Function to update lightbox content
  function updateLightbox() {
    // Set image with fallback
    lightboxImage.src = images[currentIndex].src;
    lightboxImage.onerror = function() {
      this.src = '/api/placeholder/640/360';
      this.onerror = null;
    };
    
    // Update caption and counter
    lightboxCaption.textContent = images[currentIndex].caption || '';
    lightboxCounter.textContent = `${currentIndex + 1} / ${images.length}`;
    
    // Update buttons state
    prevButton.disabled = currentIndex === 0;
    nextButton.disabled = currentIndex === images.length - 1;
  }
  
  // Set up navigation
  prevButton.onclick = () => {
    if (currentIndex > 0) {
      currentIndex--;
      updateLightbox();
    }
  };
  
  nextButton.onclick = () => {
    if (currentIndex < images.length - 1) {
      currentIndex++;
      updateLightbox();
    }
  };
  
  // Close lightbox when clicking X
  if (closeButton) {
    closeButton.onclick = () => {
      lightbox.style.display = 'none';
    };
  }
  
  // Show lightbox with current image
  updateLightbox();
  lightbox.style.display = 'block';
}



initDynamicBackground();

// Function to collect all image URLs from art data or DOM
function collectGalleryImages() {
  const imageUrls = [];
  
  // First try to get images from artData if available
  if (typeof artData !== 'undefined') {
    Object.values(artData).forEach(artProject => {
      if (artProject.images && artProject.images.length > 0) {
        artProject.images.forEach(image => {
          const imageUrl = typeof image === 'string' ? image : image.src;
          if (imageUrl && !imageUrl.includes('/api/placeholder/') && !imageUrl.includes('placeholder')) {
            imageUrls.push(imageUrl);
          }
        });
      }
    });
  }
  
  // If no images found in artData or artData is undefined, get images from DOM
  if (imageUrls.length === 0) {
    document.querySelectorAll('.art-item img').forEach(img => {
      if (img.src && !img.src.includes('/api/placeholder/') && !img.src.includes('placeholder')) {
        imageUrls.push(img.src);
      }
    });
  }
  
  return imageUrls;
}

// Function to set a random background image
function setRandomHeaderBackground() {
  const headerBackground = document.querySelector('.header-background');
  if (!headerBackground) return;
  
  // Get all gallery images
  const galleryImages = collectGalleryImages();
  
  // Select a random image
  const randomIndex = Math.floor(Math.random() * galleryImages.length);
  const selectedImage = galleryImages[randomIndex];
  
  // Fade out current background
  headerBackground.style.opacity = 0;
  
  // After fade-out, set new background and fade in
  setTimeout(() => {
    headerBackground.style.backgroundImage = `url(${selectedImage})`;
    headerBackground.style.opacity = 0.15;
  }, 500);
}

// Function to initialize the dynamic background
function initDynamicBackground() {
  // Set initial background
  setRandomHeaderBackground();
  
  // Change background every 10 seconds
  setInterval(setRandomHeaderBackground, 10000);
}

// Run on DOM content loaded
document.addEventListener('DOMContentLoaded', implementDynamicHeader);

// If DOM is already loaded, run immediately
if (document.readyState === 'complete' || document.readyState === 'interactive') {
  setTimeout(implementDynamicHeader, 0);
}

</script>
</body>